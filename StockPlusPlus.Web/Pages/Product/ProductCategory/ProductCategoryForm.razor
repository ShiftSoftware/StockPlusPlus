@attribute [Route($"/{nameof(ProductCategoryForm)}/{{Key?}}")]

@using StockPlusPlus.Shared.DTOs.Product.ProductCategory
@using StockPlusPlus.Shared.Enums.Product;

@inherits ShiftForm<ProductCategoryForm, ProductCategoryDTO>

<ShiftEntityForm @bind-Mode="Mode"
                 @bind-Value="TheItem"
                 @ref="FormContainer"
                 Action="ProductCategory"
                 Title="Product Category"
                 TypeAuthAction="StockPlusPlus.Shared.ActionTrees.StockActionTrees.ProductCategory"
                 @bind-Key="@Key">

    <MudTextFieldExtended OnlyValidateIfDirty="true"
                          Label="Name"
                          @bind-Value="TheItem.Name"
                          For="@(() => TheItem.Name)" />

    <MudTextFieldExtended OnlyValidateIfDirty="true"
                          Label="Description"
                          @bind-Value="TheItem.Description"
                          For="@(() => TheItem.Description)" />

    <MudTextFieldExtended OnlyValidateIfDirty="true"
                          Label="Code"
                          @bind-Value="TheItem.Code"
                          For="@(() => TheItem.Code)" />

    <FileUploader Url="/file/upload"
                  ShowThumbnail="true"
                  Label="Attachments"
                  TypeAuthAction="StockPlusPlus.Shared.ActionTrees.SystemActionTrees.UploadFiles"
                  For="() => TheItem.Photos"
                  AcceptImages="true"
                  @bind-Values="TheItem.Photos" />

    <MudSelectExtended OnlyValidateIfDirty="true"
                       T="TrackingMethod"
                       Label="Tracking Method"
                       AnchorOrigin="Origin.BottomCenter"
                       @bind-Value="TheItem.TrackingMethod"
                       For="@(() => TheItem.TrackingMethod)">

        @foreach (var x in Enum.GetValues<TrackingMethod>())
        {
            <MudSelectItem Value="@x">@x.Describe()</MudSelectItem>
        }
    </MudSelectExtended>
</ShiftEntityForm>
